/*
 * Install the Generative AI SDK
 *
 * $ npm install @google/generative-ai
 *
 * See the getting started guide for more information
 * https://ai.google.dev/gemini-api/docs/get-started/node
 */

import { GoogleGenerativeAI } from "@google/generative-ai";

// AIzaSyAICxm3jC1c2quJvV9gUm42GYTqOmZ8LaM

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
    model: "gemini-1.5-pro",
    systemInstruction: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format.",
});

const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
};

export const chatSession = model.startChat({
    generationConfig,
    history: [
        {
            role: "user",
            parts: [
                { text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format." },
            ],
        },
        {
            role: "model",
            parts: [
                { text: "```json\n{\n  \"trip_details\": {\n    \"location\": \"Las Vegas, Nevada\",\n    \"duration\": \"3 Days\",\n    \"travelers\": \"Couple\",\n    \"budget\": \"Cheap\"\n  },\n  \"hotels\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$35-$70 per night\", \n      \"hotelImageUrl\": \"https://example.com/circus_circus.jpg\", \n      \"geoCoordinates\": {\n        \"latitude\": 36.1436,\n        \"longitude\": -115.163\n      },\n      \"rating\": 3.5,\n      \"description\": \"Affordable option with a fun circus theme and on-site amusement park. Great for budget-conscious travelers.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40-$80 per night\", \n      \"hotelImageUrl\": \"https://example.com/excalibur.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1108,\n        \"longitude\": -115.174\n      },\n      \"rating\": 3,\n      \"description\": \"Medieval-themed hotel with affordable rooms and various dining options. Good central location on the Strip.\"\n    },\n    {\n      \"hotelName\": \"LINQ Hotel + Experience\",\n      \"hotelAddress\": \"3535 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$50-$100 per night\", \n      \"hotelImageUrl\": \"https://example.com/linq.jpg\", \n      \"geoCoordinates\": {\n        \"latitude\": 36.1173,\n        \"longitude\": -115.172\n      },\n      \"rating\": 4,\n      \"description\": \"Trendy hotel with a lively atmosphere and access to the High Roller observation wheel. Good value for the price.\"\n    }\n    // Add more budget-friendly hotels\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"morning\": {\n        \"time\": \"9:00 AM - 11:00 AM\",\n        \"activity\": {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Explore the stunning seasonal floral displays and horticultural artistry.\",\n          \"placeImageUrl\": \"https://example.com/bellagio_garden.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.113,\n            \"longitude\": -115.176\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5\n        }\n      },\n      \"afternoon\": {\n        \"time\": \"12:00 PM - 2:00 PM\",\n        \"activity\": {\n          \"placeName\": \"The LINQ Promenade & High Roller Observation Wheel\",\n          \"placeDetails\": \"Enjoy lunch and ride the world's tallest observation wheel for panoramic city views.\",\n          \"placeImageUrl\": \"https://example.com/high_roller.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1175,\n            \"longitude\": -115.171\n          },\n          \"ticketPricing\": \"$25-$35 per person (High Roller)\",\n          \"rating\": 4\n        }\n      },\n      \"evening\": {\n        \"time\": \"7:00 PM - 9:00 PM\",\n        \"activity\": {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Experience the vibrant atmosphere, street performers, and the Viva Vision light show.\",\n          \"placeImageUrl\": \"https://example.com/fremont_street.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1678,\n            \"longitude\": -115.14\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4\n        }\n      }\n    },\n    \"day2\": {\n      \"morning\": {\n        \"time\": \"10:00 AM - 12:00 PM\",\n        \"activity\": {\n          \"placeName\": \"Hoover Dam (Day Trip)\",\n          \"placeDetails\": \"Take a half-day trip to the impressive Hoover Dam, a marvel of engineering.\",\n          \"placeImageUrl\": \"https://example.com/hoover_dam.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0162,\n            \"longitude\": -114.737\n          },\n          \"ticketPricing\": \"$30-$50 per person (tour)\",\n          \"rating\": 4.5\n        }\n      },\n      \"afternoon\": {\n        \"time\": \"2:00 PM - 4:00 PM\",\n        \"activity\": {\n          \"placeName\": \"Seven Magic Mountains\",\n          \"placeDetails\": \"Visit the colorful and whimsical art installation by Ugo Rondinone in the desert.\",\n          \"placeImageUrl\": \"https://example.com/seven_magic_mountains.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.011,\n            \"longitude\": -115.184\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4\n        }\n      },\n      \"evening\": {\n        \"time\": \"8:00 PM - 10:00 PM\",\n        \"activity\": {\n          \"placeName\": \"Free Show on the Strip (Fountains of Bellagio, Volcano at Mirage)\",\n          \"placeDetails\": \"Enjoy one of the free iconic shows on the Las Vegas Strip.\",\n          \"placeImageUrl\": \"https://example.com/bellagio_fountains.jpg\", \n          \"geoCoordinates\": {\n            \"latitude\": \"Varies based on show\",\n            \"longitude\": \"Varies based on show\"\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5\n        }\n      }\n    },\n    \"day3\": {\n      \"morning\": {\n        \"time\": \"10:00 AM - 12:00 PM\",\n        \"activity\": {\n          \"placeName\": \"Neon Museum\",\n          \"placeDetails\": \"Explore the history of Las Vegas through its iconic neon signs.\",\n          \"placeImageUrl\": \"https://example.com/neon_museum.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1335,\n            \"longitude\": -115.167\n          },\n          \"ticketPricing\": \"$20-$28 per person\",\n          \"rating\": 4\n        }\n      },\n      \"afternoon\": {\n        \"time\": \"1:00 PM - 3:00 PM\",\n        \"activity\": {\n          \"placeName\": \"The Venetian & The Palazzo\",\n          \"placeDetails\": \"Stroll through the canals, shops, and restaurants of these beautiful Italian-themed resorts.\",\n          \"placeImageUrl\": \"https://example.com/venetian.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1214,\n            \"longitude\": -115.17\n          },\n          \"ticketPricing\": \"Free (except for gondola rides)\",\n          \"rating\": 4.5\n        }\n      },\n      \"evening\": {\n        \"time\": \"7:00 PM - 9:00 PM\",\n        \"activity\": {\n          \"placeName\": \"Dinner and a Show (Choose based on budget and preference)\",\n          \"placeDetails\": \"Enjoy a final night out in Las Vegas with a delicious dinner and captivating show.\",\n          \"placeImageUrl\": \"https://example.com/dinner_show.jpg\", \n          \"geoCoordinates\": {\n            \"latitude\": \"Varies based on show\",\n            \"longitude\": \"Varies based on show\"\n          },\n          \"ticketPricing\": \"Varies based on show and dinner\",\n          \"rating\": \"Varies based on show\"\n        }\n      }\n    }\n  }\n}\n``` \n\n**Notes:**\n\n* **Image URLs:** I've used \"https://example.com/...\" as placeholders. You'll need to find and replace them with actual image URLs.\n* **Prices:** Hotel and activity prices are estimates and can vary depending on the time of year and demand. Be sure to check current prices when booking.\n* **Transportation:** This itinerary assumes you'll be relying on walking (especially on the Strip), taxis, ride-sharing services, or the Deuce bus for transportation. \n* **Food:** Budget around $40-$50 per day for food, but you can find cheaper options, especially if you eat breakfast at your hotel.\n* **Customization:**  Feel free to tailor this itinerary to your interests! Las Vegas has something for everyone.\n\n**Tips for a Cheap Trip:**\n\n* **Visit during the off-season:** Avoid major holidays and weekends for lower prices.\n* **Look for hotel deals:** Many websites offer discounts and package deals for Las Vegas hotels. \n* **Take advantage of free activities:** There are plenty of free things to do in Las Vegas, such as the Bellagio Fountains, the Mirage Volcano, and the Fremont Street Experience.\n* **Eat at casual restaurants:** You'll find plenty of affordable dining options off the Strip.\n* **Consider a resort fee:** While it might seem like an added expense, some resort fees include amenities you'd end up paying for anyway, like Wi-Fi and pool access.\n\nHave a fantastic time in Las Vegas! \n" },
            ],
        },
    ],
});